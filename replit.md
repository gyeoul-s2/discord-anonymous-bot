# Anonymous Discord Bot - コマンドリファレンス

このドキュメントは、Discord Bot の管理者コマンドや動作に関するリファレンスです。

---

## 管理者 DM コマンド（OWNER_ID のみ使用可能）

### 1. ターゲットチャンネル設定

```
set target <CHANNEL_ID>
```

* 匿名メッセージを送るチャンネルIDを設定。
* 例: `set target 123456789012345678`

### 2. ログチャンネル設定

```
set log <CHANNEL_ID>
```

* 匿名メッセージのログを送るチャンネルIDを設定。
* 例: `set log 123456789012345678`

### 3. DM返信メッセージ設定

```
set reply <メッセージ>
```

* ユーザーに返信するテキストを設定。
* 例: `set reply ✅ あなたのメッセージは匿名で送信されました！`

### 4. 匿名メッセージ prefix 設定

```
set anon <テキスト>
```

* 匿名メッセージの先頭に付けるテキストを設定。
* 例: `set anon 🔒 **匿名メッセージ**`

### 5. ログメッセージ prefix 設定

```
set logtext <テキスト>
```

* ログ送信メッセージの先頭に付けるテキストを設定。
* 例: `set logtext 📋 **匿名メッセージログ**`

### 6. 設定一覧表示

```
show settings
```

* 現在の設定内容を確認。
* 返信例:

```
ターゲットチャンネルID: 123456789012345678
ログチャンネルID: 987654321098765432
DM返信メッセージ: ✅ あなたのメッセージは匿名で送信されました！
匿名メッセージprefix: 🔒 **匿名メッセージ**
ログprefix: 📋 **匿名メッセージログ**
```

---

## ユーザー側の挙動

* ユーザーが Bot に DM を送信すると：

  1. DM 送信者に設定された返信メッセージを返す。
  2. 匿名メッセージをターゲットチャンネルに送信。
  3. 添付ファイルがあれば、匿名メッセージおよびログに含める。
  4. ログチャンネルに詳細ログを送信。

* メンション変換は行わず、ユーザーの名前やスペースをそのまま送信。

---

## ファイル・保存情報

* 設定は `settings.json` に保存され、Render 上で再起動しても保持。
* GitHub に `settings.json` を入れる必要はなく、`.gitignore` に追加推奨。

---

## Render 環境変数

| KEY           | VALUE               |
| ------------- | ------------------- |
| DISCORD_TOKEN | Bot Token           |
| OWNER_ID      | 管理者の Discord ユーザーID |

---

## 備考

* 複数の添付ファイルを匿名メッセージとログで同時に送信。
* 匿名メッセージ、ログともに Embed を使用して表示。
* 設定変更はすべて DM コマンドで行う。
* Bot はサーバーではなく DM にのみ反応して設定変更を行う。
